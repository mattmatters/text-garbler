<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no" />
        <title>The Text Garbler</title>
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <meta name="description" content="Provide him with text, and he'll spit back useless stuff." />
        <meta author="Matt Lewis" />
        <meta property="og:url" content="www.textgarbler.science" />
        <meta property="og:title" content="Text Garbler" />
        <meta property="og:description" content="The most useless internet api" />
        <meta property="twitter:title" content="Text Garbler" />
        <meta property="twitter:description" content="The most useless internet api" />
        <meta name="application-name" content="Text Garbler">
        <link rel="icon" type="image/png" href="/favicon.png">
        <link rel="stylesheet" type="text/css" href="/static/style.css">
    </head>
    <body>
        <h1>The Text Garbler</h1>
        <img src="static/garbler.jpg" />
        <form action="/api.php" id="form" method="get">
            <input class="form__text" id="text" type="text" name="text" placeholder="Input some text here to garble" />
            <input class="form__submit" type="submit" text="Go!" />
        </form>
        <p id="res_text" />
        <footer>
            Created by <a href="https://mattmatters.io">Matt Lewis</a>
        </footer>
    </body>
    <script>
     document.getElementById("form").addEventListener('submit', function(e) {
         e.preventDefault()
         const text = encodeURIComponent(document.getElementById("text").value);
         const url =`/api.php?text=${text}`
         fetch(url).then(res => res.text())
                   .then((text) => {
                       document.getElementById('res_text').innerHTML = text;
                   });
     });
    </script>
</html>
